extends ../index

block main
  .pure-u-1
    .l-box
      +breadcrumbs_from(bcList)

      if (error)
        h1= "Error ["+error.code[0]+"]: "+error.description[0]
      else
        h1.capitalize= String(company.name).toLowerCase()

      .pure-g-r
        if company
          .pure-u-1
            #responsiveTabs
              ul
                li
                  h3: a(href="#details") Details
                li
                  h3: a(href="#reports") Reports
                li
                  h3: a(href="#documents") Documents

              #details
                .pure-g-r
                  .pure-u-5-24
                    .company-data
                      p Registered Number
                      span#cro_number| #{company.cro_number}

                    .company-data
                      p Registered Office
                      address
                        | #{company.ro_address[0].line_one}
                        | <br/> #{company.ro_address[0].line_two}
                        | <br/> #{company.ro_address[0].line_three}

                        if String(company.ro_address[0].line_four).trim() != String(company.ro_address[0].postcode).trim()
                          | <br/> #{company.ro_address[0].line_four}

                        | <br/> #{company.ro_address[0].postcode}

                  .pure-u-1-24.pure-hidden-phone
                    .l-box
                      br
                  .pure-u-5-24
                    .company-data
                      p Company Type
                      | #{company.company_type_description}

                    .company-data
                      p Incorporated
                      | #{company.incorporation_date}

                    .company-data
                      p Status
                      | #{company.company_status}
                  .pure-u-1-24.pure-hidden-phone
                    .l-box
                      br
                  .pure-u-5-24
                    .company-data
                      p Latest Accounts
                      | #{company.acc_made_up_date}
                    .company-data
                      p Latest Annual Return
                      | #{company.ret_made_up_date}
                    .company-data
                      p Accounts Type
                      | #{account_types[company.accounts_type]}
                  .pure-u-1-24.pure-hidden-phone
                    .l-box
                      br
                  .pure-u-5-24
                    .company-data
                      p Last document filed
                      p Previous names
              #reports
                .pure-g-r
                  if reports
                    each vendor in Object.keys(reports)
                      .pure-u-1-3
                        .l-box
                          .report-box.hover-shadow
                            a(href="/companies/"+country+"/"+company.cro_number+"/reports/"+slug(vendor).toLowerCase())
                              if images[vendor.toLowerCase()]
                                img(src="/images/partner-logos/bw/#{slug(images[vendor.toLowerCase()]).toLowerCase()}.png", alt="#{images[vendor.toLowerCase()]}")
                              else
                                p #{vendor}
                              each rep, index in reports[vendor][0].report
                                if index < 3
                                  div(class="report-#{index+1}") #{rep.description}
              #documents
                .pure-g-r
                  each vendor in ["Experian", "D&B", "Jordans", "Equifax", "RM", "Companies House" ]
                    .pure-u-1-3
                      .l-box
                        .report-box.hover-shadow
                          //- a(href="/companies/"+company.cro_number+"/documents/"+slug(vendor).toLowerCase())
                          img(src="/images/partner-logos/bw/#{slug(vendor).toLowerCase()}.png", alt="#{vendor}")
                          .report-1 Document 1
                          .report-2 Document 2
                          .report-3 Document 3
